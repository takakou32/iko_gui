# ページ4のボタン実装状況レポート

## ボタン一覧表

| No. | ボタン名 | 表示行 | 表示条件 | 機能実装状況 | クリック時の動作 | 備考 |
|-----|---------|--------|---------|-------------|----------------|------|
| 1 | KDL変換CSV格納元の移動設定 | 1行目・2行目 | 編集モードON時のみ | ✅ 実装済み | `Show-FileMoveSettingsDialog`を呼び出し | movefilesフォルダにファイルリストを保存 |
| 2 | KDL変換CSV格納先の移動設定 | 1行目・2行目 | 編集モードON時のみ | ✅ 実装済み | `Show-FileMoveSettingsDialog`を呼び出し | movefilesフォルダにファイルリストを保存 |
| 3 | V1抽出CSV格納先の移動設定 | 全行 | 編集モードON時のみ | ✅ 実装済み | `Show-FileMoveSettingsDialog`を呼び出し | movefilesフォルダにファイルリストを保存 |
| 4 | KDL取込 | 1行目・2行目 | 常に表示 | ❌ 未実装 | なし（`Enabled = $false`） | 機能未実装のため無効化 |
| 5 | 直接取込 | 全行 | 常に表示 | ❌ 未実装 | なし（`Enabled = $false`） | 機能未実装のため無効化 |
| 6 | 取込後 | 全行 | 常に表示 | ❌ 未実装 | なし（`Enabled = $false`） | 機能未実装のため無効化 |
| 7 | ログ確認 | 全行 | 常に表示 | ✅ 実装済み | `Show-ProcessLog`を呼び出し | 編集モード時は「参照」と表示 |

## 実装状況サマリー

### ✅ 実装済み
- **移動設定ボタン（3種類）**: すべて実装済み
  - KDL変換CSV格納元の移動設定（1行目・2行目）
  - KDL変換CSV格納先の移動設定（1行目・2行目）
  - V1抽出CSV格納先の移動設定（全行）
  - すべて`Show-FileMoveSettingsDialog`関数を呼び出し、movefilesフォルダにファイルリストを保存
- **ログ確認ボタン**: 実装済み
  - `Show-ProcessLog`関数を呼び出し、プロセスログを表示
  - 編集モード時は「参照」と表示され、ログ出力フォルダを選択可能

### ❌ 未実装
- **KDL取込ボタン**: 機能未実装（`Enabled = $false`）
  - 1行目・2行目のみに表示
  - クリックイベントが設定されていない
- **直接取込ボタン**: 機能未実装（`Enabled = $false`）
  - 全行に表示
  - クリックイベントが設定されていない
- **取込後ボタン**: 機能未実装（`Enabled = $false`）
  - 全行に表示
  - クリックイベントが設定されていない

## 詳細説明

### 1. 移動設定ボタン（3種類）
- **実装関数**: `Show-FileMoveSettingsDialog`
- **動作**:
  - 編集モードON時に表示される
  - クリックするとファイル移動設定ダイアログを表示
  - ダイアログでファイルリスト（移動元パス|移動先パス形式）を入力
  - `movefiles/***.txt`ファイルに保存（***はプロセス名から生成）
- **JSON要素との関連**: なし（movefilesフォルダにテキストファイルとして保存）

### 2. KDL取込ボタン
- **実装状況**: 未実装
- **表示条件**: 1行目・2行目のみ
- **状態**: `Enabled = $false`（無効化）
- **クリックイベント**: 未設定
- **備考**: 機能実装が必要

### 3. 直接取込ボタン
- **実装状況**: 未実装
- **表示条件**: 全行
- **状態**: `Enabled = $false`（無効化）
- **クリックイベント**: 未設定
- **備考**: 機能実装が必要

### 4. 取込後ボタン
- **実装状況**: 未実装
- **表示条件**: 全行
- **状態**: `Enabled = $false`（無効化）
- **クリックイベント**: 未設定
- **備考**: 機能実装が必要

### 5. ログ確認ボタン
- **実装関数**: `Show-ProcessLog`
- **動作**:
  - 編集モードOFF時: 「ログ確認」と表示、プロセスログを表示
  - 編集モードON時: 「参照」と表示、ログ出力フォルダを選択可能
- **JSON要素との関連**: `page4.json.Processes[i].LogButtonText`（表示テキストのカスタマイズ）

## ボタンの表示条件まとめ

### 編集モードON時のみ表示
- KDL変換CSV格納元の移動設定
- KDL変換CSV格納先の移動設定
- V1抽出CSV格納先の移動設定

### 常に表示（機能実装状況に関わらず）
- KDL取込（1行目・2行目のみ、無効化）
- 直接取込（全行、無効化）
- 取込後（全行、無効化）
- ログ確認（全行、有効）

---
**レポート作成日**: 2026-01-09
**対象ファイル**: `Functions.ps1`, `page4.json`
